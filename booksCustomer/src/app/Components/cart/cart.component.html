<div class="mx-5" style="margin-top: 5rem;">


    <h1>Cart</h1>

    <table id="example" class="table table-striped  table-hover table-fixed">
        <thead class="thead-dark">

            <tr>
                <th scope="col">Name</th>
                <th scope="col">Price</th>
                <th scope="col" [appSort]="cartItems" data-order="desc" data-name="quantity">Quantity<i class="fa fa-unsorted" disabled></i></th>
                <th scope="col" [appSort]="cartItems" data-order="desc" data-name="addedOn">Date Added to Cart<i class="fa fa-unsorted" disabled></i></th>
                <th scope="col" [appSort]="cartItems" data-order="desc" data-name="totalPrice">Total<i class="fa fa-unsorted" disabled></i></th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of cartItems; let i = index">
                <td class="text-center">{{ item.book.name }}</td>
                <td class="text-center">{{ item.book.price| number: '1.2-2' }} €</td>
                <td class="text-center">
                    <i class="fa fa-minus-circle" aria-hidden="true" (click)="decreaseQuantity(item)"></i>
                    <input [(ngModel)]="item.quantity " type="number" value='{{ item.quantity }}'>
                    <i class="fa fa-plus-circle" aria-hidden="true" (click)="increaseQuantity(item)"></i>
                </td>
                <td class="text-center">{{ item.addedOn | date: 'dd/MM/YYYY'}}</td>
                <td class="text-center">{{ item.totalPrice| number: '1.2-2' }} €</td>
                <td class="text-center">
                    <div class="text-center">
                        <button id="btnToDetail " class="btn btn-success btn-sm " routerLink="/shop/books/{{ item.book.id }}">Détail</button>

                        <button id="btnToDelete" class="btn btn-danger btn-sm" (click)="deleteItem(item)">
                  <i class="fa fa-trash-o" aria-hidden="true"></i>                          
                </button>
                    </div>
                </td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td class="text-center">
                    <h4 class="text-success font-weight-bold">{{getTotal()| number: '1.2-2' }} €</h4>
                </td>
                <td class="text-center"><button routerLink="../paiement" class="btn btn-success" *ngIf="cartItems">Payer</button></td>
            </tr>
        </tbody>
    </table>
</div>