<br/><br/><br/><br/>
<div class="mx-5" style="margin-top: 5rem;">


    <h1> Nos Livres</h1>

    <button type="button" class="btn btn-warning btn-2x" data-toggle="modal" data-target="#NouveauEtudiant" data-whatever="@getbootstrap">
        <i class="fa fa-book fa-2x" aria-hidden="true"></i><i class="fa fa-plus" aria-hidden="true"></i>
    </button>

    <br/><br/>
    <div class="modal fade bd-example-modal-xl" id="NouveauEtudiant" tabindex="-1" role="dialog" aria-labelledby="NouveauEtudiantLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="NouveauEtudiantLabel">Ajouter un nouveau Livre</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
                </div>


                <div class="modal-body">
                    <form class="needs-validation" novalidate>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <br/>
                                <input [(ngModel)]="newBook.name" [ngModelOptions]="{standalone: true}" name="name" type="text" class="form-control" id="name" placeholder="Titre" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <br/>
                                <input [(ngModel)]="newBook.editor" [ngModelOptions]="{standalone: true}" name="editor" type="text" class="form-control" id="editor" placeholder="Editeur">
                            </div>

                            <div class="form-group col-md-6">
                                <br/>
                                <input [(ngModel)]="newBook.author" [ngModelOptions]="{standalone: true}" name="autthor" type="text" class="form-control" id="author" placeholder="Auteur">
                            </div>

                            <div class="form-group col-md-6">
                                <br/>
                                <input [(ngModel)]="newBook.isbn" [ngModelOptions]="{standalone: true}" name="isbn" type="text" class="form-control" id="isbn" placeholder="ISBN">
                            </div>
                            <div class="form-group col-md-6">
                                <br/>
                                <input [(ngModel)]="newBook.ean" [ngModelOptions]="{standalone: true}" name="ean" type="text" class="form-control" id="ean" placeholder="EAN">
                            </div>
                            <div class="form-group col-md-4">
                                <br/>
                                <input [(ngModel)]="newBook.price" [ngModelOptions]="{standalone: true}" name="prix" type="number" class="form-control" id="price" placeholder="Prix"> Prix: {{ newBook.price| number: '1.2-2' }} €
                            </div>
                            <div class="form-group col-md-4">
                                <br/>
                                <input [(ngModel)]="newBook.image" [ngModelOptions]="{standalone: true}" (change)="onFileChanged($event)" class="form-control" type="file" id="formFile" placeholder="Image">
                            </div>

                            <div class="form-row">
                                <br/>
                                <div class="form-group">
                                    <textarea [(ngModel)]="newBook.description" [ngModelOptions]="{standalone: true}" class="form-control" id="message-text" placeholder="Ajouter une description ..."></textarea>
                                </div>
                            </div>

                        </div>

                    </form>
                </div>


                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
                    <button type="submit" data-dismiss="modal" (click)="addBook()" class="btn btn-primary" data-dismiss="modal">Enregistrer</button>
                </div>
            </div>
        </div>
    </div>



    <table id="example" class="table table-striped  table-hover table-fixed">
        <thead class="thead-dark">
            <tr>
                <th scope="col" [appSort]="books" data-order="desc" data-name="isbn">ISBN<i class="fa fa-unsorted" disabled></i></th>
                <th scope="col" [appSort]="books" data-order="desc" data-name="ean">EAN<i class="fa fa-unsorted" disabled></i></th>
                <th scope="col" [appSort]="books" data-order="desc" data-name="name">Titre<i class="fa fa-unsorted" disabled></i></th>
                <th scope="col" [appSort]="books" data-order="desc" data-name="author">Auteur<i class="fa fa-unsorted" disabled></i></th>
                <th scope="col" [appSort]="books" data-order="desc" data-name="editor">Editeur<i class="fa fa-unsorted" disabled></i></th>
                <th scope="col" [appSort]="books" data-order="desc" data-name="addedOn">Ajouté le<i class="fa fa-unsorted" disabled></i></th>
                <th scope="col" [appSort]="books" data-order="desc" data-name="price">Prix<i class="fa fa-unsorted" disabled></i></th>
                <th scope="col" data-name="price">Actions</th>

            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let book of books; let i = index">
                <td class="text-center">{{ book.isbn }}</td>
                <td class="text-center">{{ book.ean }}</td>
                <td class="text-center">{{ book.name }}</td>
                <td class="text-center">{{ book.author }}</td>
                <td class="text-center">{{ book.editor }}</td>
                <td class="text-center">{{ book.addedOn | date: 'dd/MM/YYYY'}}</td>
                <td class="text-center">{{ book.price| number: '1.2-2' }} €</td>
                <td tyle="width: 5.0%">
                    <div class="text-center">
                        <button class="btn btn-success btn-sm" routerLink="/bookDetailAdmin/{{ book.id }}" data-whatever="@getbootstrap">
                            <i class="fa fa-info-circle" aria-hidden="true"></i>
                        </button> &nbsp;


                        <button (click)="deleteBook(book)" class="btn btn-sm btn-danger ">
                            <i class="fa fa-trash"></i>
                        </button>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
